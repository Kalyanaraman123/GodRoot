<!DOCTYPE html>
<html lang="en">
<head>
  {% load static %}
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>{% block title %}GodRoot - Online Fashion Store{% endblock %}</title>

  <!-- Fonts + Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>

  <!-- Styles -->
  <link rel="stylesheet" href="{% static 'css/site.css' %}?v=1.1">
  {% block extra_css %}{% endblock %}
</head>
<body>

  <!-- Announcement -->
  <div class="announcement-bar">
    <div class="container">
      <p>FLAT 20% OFF ON FIRST ORDER • FREE SHIPPING ON ₹999+ • USE CODE: GODROOT20</p>
    </div>
  </div>

  <!-- Header -->
  <header class="header" id="siteHeader">
    <div class="container">
      <div class="header-main">
        <!-- Left -->
        <div class="header-left">
          <button class="icon-btn menu-toggle" id="menuToggle" aria-label="Open menu">
            <i class="fas fa-bars"></i>
          </button>

          <nav class="main-nav">
            <a href="{% url 'shop:home' %}">Home</a>

            <div class="nav-dropdown">
              <button class="nav-link">Men <i class="fas fa-chevron-down"></i></button>
              <div class="dropdown-menu">
                <a href="{% url 'shop:home' %}?category=men-tshirts">T-Shirts</a>
                <a href="{% url 'shop:home' %}?category=men-shirts">Shirts</a>
                <a href="{% url 'shop:home' %}?category=men-hoodies">Hoodies</a>
                <a href="{% url 'shop:home' %}?category=men-jeans">Jeans</a>
              </div>
            </div>

            <div class="nav-dropdown">
              <button class="nav-link">Women <i class="fas fa-chevron-down"></i></button>
              <div class="dropdown-menu">
                <a href="{% url 'shop:home' %}?category=women-tops">Tops</a>
                <a href="{% url 'shop:home' %}?category=women-dresses">Dresses</a>
                <a href="{% url 'shop:home' %}?category=women-jeans">Jeans</a>
                <a href="{% url 'shop:home' %}?category=women-kurtas">Kurtas</a>
              </div>
            </div>

            <a href="{% url 'shop:home' %}?category=new-arrivals">New Arrivals</a>
            <a href="{% url 'shop:home' %}?category=best-sellers">Best Sellers</a>
          </nav>
        </div>

        <!-- Center -->
        <div class="header-center">
          <a href="{% url 'shop:home' %}" class="logo">GODROOT</a>
        </div>

        <!-- Right -->
        <div class="header-right">
          <div class="header-actions">
            <button class="icon-btn" id="searchBtn" aria-label="Search">
              <i class="fas fa-search"></i>
            </button>

            {% if user.is_authenticated %}
            <div class="user-dropdown">
              <button class="icon-btn user-btn" aria-label="Account">
                <i class="far fa-user"></i>
              </button>
              <div class="dropdown-menu dropdown-right">
                <a href="/accounts/profile/"><i class="fas fa-user"></i> My Account</a>
                <a href="/accounts/orders/"><i class="fas fa-shopping-bag"></i> My Orders</a>
                <a href="/accounts/wishlist/"><i class="fas fa-heart"></i> Wishlist</a>
                <hr>
                <button id="logoutBtn" class="dropdown-danger"><i class="fas fa-sign-out-alt"></i> Logout</button>
              </div>
            </div>
            {% else %}
            <button class="icon-btn" id="loginBtn" aria-label="Login">
              <i class="far fa-user"></i>
            </button>
            {% endif %}

            <a href="{% url 'shop:cart' %}" class="icon-btn cart-btn" aria-label="Cart">
              <i class="fas fa-shopping-bag"></i>
              {% if cart and cart.get_total_quantity > 0 %}
              <span class="cart-count">{{ cart.get_total_quantity }}</span>
              {% endif %}
            </a>
          </div>
        </div>
      </div>

      <!-- Search Overlay -->
      <div class="search-bar" id="searchBar">
        <div class="search-container">
          <i class="fas fa-search"></i>
          <input type="text" placeholder="Search for products, brands and more..." id="searchInput" />
          <button class="icon-btn search-close" id="searchClose" aria-label="Close search">
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Mobile Drawer -->
  <aside class="mobile-menu" id="mobileMenu" aria-hidden="true">
    <div class="mobile-menu-header">
      <span>Menu</span>
      <button class="icon-btn" id="mobileMenuClose" aria-label="Close menu">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <nav class="mobile-nav">
      <a href="{% url 'shop:home' %}">Home</a>

      <div class="mobile-nav-item">
        <button class="mobile-nav-toggle">Men <i class="fas fa-chevron-down"></i></button>
        <div class="mobile-submenu">
          <a href="{% url 'shop:home' %}?category=men-tshirts">T-Shirts</a>
          <a href="{% url 'shop:home' %}?category=men-shirts">Shirts</a>
          <a href="{% url 'shop:home' %}?category=men-hoodies">Hoodies</a>
          <a href="{% url 'shop:home' %}?category=men-jeans">Jeans</a>
        </div>
      </div>

      <div class="mobile-nav-item">
        <button class="mobile-nav-toggle">Women <i class="fas fa-chevron-down"></i></button>
        <div class="mobile-submenu">
          <a href="{% url 'shop:home' %}?category=women-tops">Tops</a>
          <a href="{% url 'shop:home' %}?category=women-dresses">Dresses</a>
          <a href="{% url 'shop:home' %}?category=women-jeans">Jeans</a>
          <a href="{% url 'shop:home' %}?category=women-kurtas">Kurtas</a>
        </div>
      </div>

      <a href="{% url 'shop:home' %}?category=new-arrivals">New Arrivals</a>
      <a href="{% url 'shop:home' %}?category=best-sellers">Best Sellers</a>
    </nav>

    <div class="mobile-menu-footer">
      {% if user.is_authenticated %}
      <a href="/accounts/profile/" class="mobile-menu-btn">My Account</a>
      <button id="mobileLogoutBtn" class="mobile-menu-btn">Logout</button>
      {% else %}
      <button id="mobileLoginBtn" class="mobile-menu-btn">Login</button>
      {% endif %}
    </div>
  </aside>

  <!-- Main -->
  <main class="main-content">
    {% block content %}{% endblock %}
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-col">
          <div class="footer-logo">
            <h3>GODROOT</h3>
            <p>Premium Fashion Store</p>
          </div>
          <div class="social-links">
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-x-twitter"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
          </div>
        </div>

        <div class="footer-col">
          <h4>SHOP</h4>
          <ul>
            <li><a href="{% url 'shop:home' %}?category=men">Men's Collection</a></li>
            <li><a href="{% url 'shop:home' %}?category=women">Women's Collection</a></li>
            <li><a href="{% url 'shop:home' %}?category=new-arrivals">New Arrivals</a></li>
            <li><a href="{% url 'shop:home' %}?category=best-sellers">Best Sellers</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h4>HELP</h4>
          <ul>
            <li><a href="#">Shipping Info</a></li>
            <li><a href="#">Returns & Exchanges</a></li>
            <li><a href="#">Size Guide</a></li>
            <li><a href="#">FAQs</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h4>CONTACT</h4>
          <ul class="contact-info">
            <li><i class="fas fa-map-marker-alt"></i> No 7, Jothi Nagar, Tirupur - 641607</li>
            <li><i class="fas fa-phone"></i> +91 63741 28878</li>
            <li><i class="fas fa-envelope"></i> godroot77@gmail.com</li>
          </ul>
        </div>

        <div class="footer-col">
          <h4>NEWSLETTER</h4>
          <p>Subscribe for updates and exclusive offers</p>
          <form class="newsletter-form">
            <input type="email" placeholder="Enter your email" required />
            <button type="submit" class="btn btn-primary">Subscribe</button>
          </form>
        </div>
      </div>

      <div class="footer-bottom">
        <div class="payment-methods">
          <span>We accept:</span>
          <div class="payment-icons">
            <i class="fab fa-cc-visa"></i>
            <i class="fab fa-cc-mastercard"></i>
            <i class="fab fa-cc-paypal"></i>
            <i class="fab fa-cc-apple-pay"></i>
          </div>
        </div>
        <p>&copy; {% now "Y" %} GodRoot. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="{% static 'js/site.js' %}?v=1.1"></script>
  {% block extra_js %}{% endblock %}
</body>
</html>
