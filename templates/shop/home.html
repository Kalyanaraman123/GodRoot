{% extends "base.html" %}
{% load static %}

{% block title %}GodRoot ‚Äî Home{% endblock %}

{% block content %}
<div class="content-container">
  <!-- HERO -->
  <section class="hero">
    <div class="hero-left">
      <h1>Modern wardrobe essentials ‚Äî refined</h1>
      <p class="hero-subtitle">Black, white and grey staples made with premium fabrics. Free delivery on orders over ‚Çπ999.</p>
      <div class="hero-cta">
        <a class="btn-primary" href="#collections">Shop Collections</a>
        <a class="btn-secondary" href="#products">Browse All</a>
      </div>
    </div>
    <div class="hero-right">
      <img src="{% static 'img/design2.jpg' %}" alt="Hero image" class="hero-image">
    </div>
  </section>

  <!-- FEATURES -->
  <section class="features">
    <div class="feature-grid">
      <div class="feature-item">
        <div class="feature-icon">üöö</div>
        <h3>Free Shipping</h3>
        <p>On orders over ‚Çπ999</p>
      </div>
      <div class="feature-item">
        <div class="feature-icon">‚Ü©Ô∏è</div>
        <h3>Easy Returns</h3>
        <p>30-day return policy</p>
      </div>
      <div class="feature-item">
        <div class="feature-icon">üîí</div>
        <h3>Secure Payment</h3>
        <p>100% secure transactions</p>
      </div>
      <div class="feature-item">
        <div class="feature-icon">‚≠ê</div>
        <h3>Premium Quality</h3>
        <p>Premium fabrics & craftsmanship</p>
      </div>
    </div>
  </section>

  <!-- COLLECTIONS -->
  <section id="collections" class="collections">
    <div class="section-header">
      <h2>Collections</h2>
      <p>Explore our curated collections</p>
    </div>
    <div class="collections-grid">
      <div class="collection-card">
        <div class="collection-image">
           <img src="{% static 'img/design1.jpg' %}" alt="Men's Collection">
        </div>
        <div class="collection-content">
          <h3>Men's Collection</h3>
          <p>Essential styles for everyday wear</p>
          <a href="{% url 'shop:home' %}?category=men" class="collection-link">Shop Now ‚Üí</a>
        </div>
      </div>
      <div class="collection-card">
        <div class="collection-image">
          <img src="{% static 'img/design2.jpg' %}" alt="Women's Collection">
        </div>
        <div class="collection-content">
          <h3>Women's Collection</h3>
          <p>Timeless pieces for modern women</p>
          <a href="{% url 'shop:home' %}?category=women" class="collection-link">Shop Now ‚Üí</a>
        </div>
      </div>
    </div>
  </section>

  <!-- PRODUCTS GRID -->
  <section id="products" class="products">
    <div class="section-header">
      <h2>Featured Products</h2>
      <p>Our most popular essentials</p>
    </div>
    <div class="products-grid">
      {% for p in products %}
        {% with first_variant=p.variants.all|first %}
        <article class="product-card" data-id="{{ p.id }}" data-title="{{ p.title|escapejs }}">
          <div class="product-media">
           {% if p.images.all %}
  <img src="{{ p.images.all.0.image.url }}" alt="{{ p.title }}" class="product-image">
{% else %}
  {% if forloop.counter == 1 %}
    <img src="{% static 'img/design-1.jpg' %}" alt="{{ p.title }}" class="product-image">
  {% elif forloop.counter == 2 %}
    <img src="{% static 'img/design-2.jpg' %}" alt="{{ p.title }}" class="product-image">
  {% elif forloop.counter == 3 %}
    <img src="{% static 'img/design-3.jpg' %}" alt="{{ p.title }}" class="product-image">
  {% else %}
    <img src="{% static 'img/product-placeholder.jpg' %}" alt="{{ p.title }}" class="product-image">
  {% endif %}
{% endif %}
            <div class="product-overlay">
              <a href="{% url 'shop:product_detail' p.slug %}" class="quick-view">Quick View</a>
            </div>
          </div>
          <div class="product-body">
            <h3 class="product-title">{{ p.title }}</h3>
            {% if first_variant %}
              <div class="product-price">‚Çπ{{ first_variant.price }}</div>
            {% else %}
              <div class="product-price">‚Äî</div>
            {% endif %}
            <div class="product-sizes">
              {% if p.variants.exists %}
                Sizes:
                {% for v in p.variants.all %}
                  <span class="size-tag">{{ v.size }}</span>{% if not forloop.last %} {% endif %}
                {% endfor %}
              {% else %}
                ‚Äî
              {% endif %}
            </div>

            <div class="product-actions">
              <a class="btn-product" href="{% url 'shop:product_detail' p.slug %}">View Details</a>
              {% if first_variant %}
                <form method="post" action="{% url 'shop:cart_add' first_variant.id %}" class="inline-form">
                  {% csrf_token %}
                  <input type="hidden" name="quantity" value="1">
                  <button class="btn-product add-to-cart" type="submit">Add to Cart</button>
                </form>
              {% endif %}
            </div>
          </div>
        </article>
        {% endwith %}
      {% empty %}
        <div class="no-products" style="grid-column: 1 / -1; text-align: center; padding: 60px 20px;">
          <h3>No products available at the moment</h3>
          <p class="muted">Check back soon for new arrivals!</p>
        </div>
      {% endfor %}
    </div>
  </section>

  <!-- NEWSLETTER -->
  <section class="newsletter">
    <div class="newsletter-content">
      <h2>Stay Updated</h2>
      <p>Get early access to new collections and exclusive offers</p>
      <form class="newsletter-form">
        <input type="email" placeholder="Enter your email" class="newsletter-input">
        <button type="submit" class="btn-primary">Subscribe</button>
      </form>
    </div>
  </section>
</div>

<!-- FOOTER -->
<footer class="site-footer" role="contentinfo">
  <div class="footer-inner">
    <div class="footer-grid">
      <div class="footer-col">
        <div class="footer-brand">
          <img src="{% static 'img/logo.png' %}" alt="GodRoot" class="footer-logo">
          <p>Modern wardrobe essentials ‚Äî refined</p>
        </div>
      </div>

      <div class="footer-col">
        <h4>Shop</h4>
        <ul>
          <li><a href="#">Men's Collection</a></li>
          <li><a href="#">Women's Collection</a></li>
          <li><a href="#">New Arrivals</a></li>
          <li><a href="#">Best Sellers</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Information</h4>
        <ul>
          <li><a href="#">About Us</a></li>
          <li><a href="#">Contact Us</a></li>
          <li><a href="#">Shipping Policy</a></li>
          <li><a href="#">Returns & Exchanges</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Customer Service</h4>
        <ul>
          <li><a href="#">FAQ</a></li>
          <li><a href="#">Track Order</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms & Conditions</a></li>
        </ul>
      </div>

      <div class="footer-col">
        <h4>Contact Info</h4>
        <div class="contact-info">
          <p>üìç No 7, Jothi Nagar, KS Theatre Main Road, Mannarai Post, Tirupur - 641607</p>
          <p>üìû +91 63741 28878</p>
          <p>‚úâÔ∏è godroot77@gmail.com</p>
        </div>
        <div class="social-links">
          <a href="#" aria-label="Instagram">üì∑</a>
          <a href="#" aria-label="Facebook">üë§</a>
          <a href="#" aria-label="YouTube">‚ñ∂Ô∏è</a>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="footer-bottom-content">
        <p>¬© 2025 GodRoot. All rights reserved.</p>
        <div class="payment-methods">
          <span>We accept:</span>
          <span class="payment-icons">üí≥ üÖøÔ∏è üì±</span>
        </div>
      </div>
    </div>
  </div>
</footer>
{% endblock %}