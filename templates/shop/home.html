{% extends "base.html" %}
{% load static %}

{% block title %}GodRoot ‚Äî Premium Fashion Store{% endblock %}

{% block content %}
<!-- Hero Banner -->
<section class="hero-banner">
  <div class="container">
    <div class="hero-content">
      <h1>Elevate Your Style with Premium Fashion</h1>
      <p>Discover the perfect blend of comfort, quality, and style with our curated collection</p>
      <div class="hero-buttons">
        <a href="{% url 'shop:home' %}?category=men" class="btn btn-primary">Shop Men</a>
        <a href="{% url 'shop:home' %}?category=women" class="btn btn-secondary">Shop Women</a>
      </div>
    </div>
  </div>
</section>

<!-- Features Section -->
<section class="features-section">
  <div class="container">
    <div class="features-grid">
      <div class="feature">
        <div class="feature-icon">üöö</div>
        <h3>Free Shipping</h3>
        <p>On orders over ‚Çπ999</p>
      </div>
      <div class="feature">
        <div class="feature-icon">‚Ü©Ô∏è</div>
        <h3>Easy Returns</h3>
        <p>30-day return policy</p>
      </div>
      <div class="feature">
        <div class="feature-icon">üîí</div>
        <h3>Secure Payment</h3>
        <p>100% secure transactions</p>
      </div>
      <div class="feature">
        <div class="feature-icon">‚≠ê</div>
        <h3>Premium Quality</h3>
        <p>Premium fabrics & craftsmanship</p>
      </div>
    </div>
  </div>
</section>

<!-- Categories Section -->
<section class="categories-section">
  <div class="container">
    <h2 class="section-title">Shop By Category</h2>
    <div class="categories-grid">
      <div class="category-card">
        <div class="category-image">
          <img src="{% static 'img/men-category.jpg' %}" alt="Men's Collection" onerror="this.src='https://via.placeholder.com/400x500/333/fff?text=Men'">
        </div>
        <div class="category-content">
          <h3>Men's Collection</h3>
          <p>Stylish and comfortable clothing for men</p>
          <a href="{% url 'shop:home' %}?category=men" class="category-link">Shop Now ‚Üí</a>
        </div>
      </div>
      <div class="category-card">
        <div class="category-image">
          <img src="{% static 'img/women-category.jpg' %}" alt="Women's Collection" onerror="this.src='https://via.placeholder.com/400x500/333/fff?text=Women'">
        </div>
        <div class="category-content">
          <h3>Women's Collection</h3>
          <p>Elegant and trendy outfits for women</p>
          <a href="{% url 'shop:home' %}?category=women" class="category-link">Shop Now ‚Üí</a>
        </div>
      </div>
      <div class="category-card">
        <div class="category-image">
          <img src="{% static 'img/new-arrivals.jpg' %}" alt="New Arrivals" onerror="this.src='https://via.placeholder.com/400x500/333/fff?text=New+Arrivals'">
        </div>
        <div class="category-content">
          <h3>New Arrivals</h3>
          <p>Latest trends and fresh styles</p>
          <a href="{% url 'shop:home' %}?category=new-arrivals" class="category-link">Explore ‚Üí</a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Products -->
<section class="products-section">
  <div class="container">
    <h2 class="section-title">Featured Products</h2>
    <p class="section-subtitle">Our most popular essentials</p>
    
    <div class="products-grid">
      {% for product in products %}
      <div class="product-card">
        <div class="product-image">
          {% if product.images.all %}
            <img src="{{ product.images.all.0.image.url }}" alt="{{ product.title }}">
          {% else %}
            {% if forloop.counter == 1 %}
              <img src="{% static 'img/product1.jpg' %}" alt="{{ product.title }}" onerror="this.src='https://via.placeholder.com/300x400/eee/333?text=Product+{{ forloop.counter }}'">
            {% elif forloop.counter == 2 %}
              <img src="{% static 'img/product2.jpg' %}" alt="{{ product.title }}" onerror="this.src='https://via.placeholder.com/300x400/eee/333?text=Product+{{ forloop.counter }}'">
            {% elif forloop.counter == 3 %}
              <img src="{% static 'img/product3.jpg' %}" alt="{{ product.title }}" onerror="this.src='https://via.placeholder.com/300x400/eee/333?text=Product+{{ forloop.counter }}'">
            {% else %}
              <img src="{% static 'img/product4.jpg' %}" alt="{{ product.title }}" onerror="this.src='https://via.placeholder.com/300x400/eee/333?text=Product+{{ forloop.counter }}'">
            {% endif %}
          {% endif %}
          <div class="product-actions">
            <button class="wishlist-btn" data-product="{{ product.id }}">‚ù§Ô∏è</button>
            <a href="{% url 'shop:product_detail' product.slug %}" class="quick-view">Quick View</a>
          </div>
        </div>
        <div class="product-info">
          <h3 class="product-title">{{ product.title }}</h3>
          <p class="product-category">{{ product.category.name|default:"Fashion" }}</p>
          <div class="product-price">
            {% with first_variant=product.variants.all|first %}
              {% if first_variant %}
                ‚Çπ{{ first_variant.price }}
                {% if first_variant.original_price %}
                  <span class="original-price">‚Çπ{{ first_variant.original_price }}</span>
                  <span class="discount">{{ first_variant.discount_percentage }}% OFF</span>
                {% endif %}
              {% else %}
                <span>Price not available</span>
              {% endif %}
            {% endwith %}
          </div>
          <div class="product-sizes">
            {% if product.variants.exists %}
              Sizes: 
              {% for variant in product.variants.all|slice:":4" %}
                <span class="size">{{ variant.size }}</span>
              {% endfor %}
              {% if product.variants.count > 4 %}
                <span class="more-sizes">+{{ product.variants.count|add:"-4" }} more</span>
              {% endif %}
            {% endif %}
          </div>
          <div class="product-buttons">
            <a href="{% url 'shop:product_detail' product.slug %}" class="btn btn-outline">View Details</a>
            {% with first_variant=product.variants.all|first %}
              {% if first_variant %}
                <form method="post" action="{% url 'shop:cart_add' first_variant.id %}" class="add-to-cart-form">
                  {% csrf_token %}
                  <input type="hidden" name="quantity" value="1">
                  <button type="submit" class="btn btn-primary">Add to Cart</button>
                </form>
              {% endif %}
            {% endwith %}
          </div>
        </div>
      </div>
      {% empty %}
      <div class="no-products">
        <h3>No products available at the moment</h3>
        <p>Check back soon for new arrivals!</p>
      </div>
      {% endfor %}
    </div>
    
    {% if products %}
    <div class="view-all">
      <a href="{% url 'shop:home' %}" class="btn btn-outline">View All Products</a>
    </div>
    {% endif %}
  </div>
</section>

<!-- Newsletter Section -->
<section class="newsletter-section">
  <div class="container">
    <div class="newsletter-content">
      <h2>Stay Updated</h2>
      <p>Get early access to new collections and exclusive offers</p>
      <form class="newsletter-form">
        <input type="email" placeholder="Enter your email" required>
        <button type="submit" class="btn btn-primary">Subscribe</button>
      </form>
    </div>
  </div>
</section>
{% endblock %}